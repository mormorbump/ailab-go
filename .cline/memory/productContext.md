# プロダクトコンテキスト

## プロジェクトが存在する理由

このプロジェクトは、AI コーディングエージェント（CLINE/Roo など）と Deno
を組み合わせた開発プロセスを最適化するために存在します。AI
によるコード生成は効率的ですが、一貫性のあるルールとパターンがなければ、生成されるコードの品質にばらつきが生じます。このプロジェクトは、明確なルールとモードを定義することで、AI
コーディングの品質と一貫性を向上させることを目指しています。

## 解決する問題

1. **AI コーディングの一貫性の欠如**
   - AI は文脈や指示によって異なるコードを生成することがある
   - プロジェクト固有のルールやパターンを理解していないことがある
   - 生成されるコードの品質にばらつきがある

2. **Deno プロジェクトの標準化の不足**
   - モジュール構造やテスト方法に関する標準的なアプローチの不足
   - 依存関係管理やコード品質監視の一貫したアプローチの欠如
   - 型安全性とエラー処理の標準パターンの不足

3. **テスト駆動開発（TDD）の AI コーディングへの適用の難しさ**
   - AI に TDD のワークフローを理解させることの難しさ
   - テストファーストアプローチの一貫した適用の課題
   - テストの品質と網羅性の確保

4. **設計パターンの一貫した適用**
   - アダプターパターンなどの設計パターンの適切な適用
   - 外部依存の抽象化と差し替え可能性の確保
   - テスト容易性を考慮した設計の実現

## どのように機能すべきか

1. **明確なルールとモードの定義**
   - `.cline/rules` ディレクトリでコーディングルールを定義
   - `.cline/roomodes` ディレクトリで実装モードを定義
   - `.cline/build.go` スクリプトでルールとモードを生成

2. **複数の実装モードのサポート**
   - スクリプトモード: 一つのファイルに完結した実装
   - テストファーストモード: 型シグネチャとテストを先に書く実装
   - モジュールモード: 複数のファイルで構成される実装

3. **ユーティリティモジュールの提供**
   - type-predictor: JSON データから型を予測し、zod スキーマを生成
   - アダプターパターン実装例: 外部 API との通信を抽象化

4. **CI/CD パイプラインの統合**
   - GitHub Actions による自動テストと検証
   - コード品質の自動チェック
   - 依存関係の検証

## ユーザー体験の目標

1. **AI コーディングエージェントのユーザー**
   - 明確なルールとモードによる一貫性のあるコード生成
   - プロジェクト固有のパターンとプラクティスの理解
   - 効率的なコード生成と問題解決

2. **開発者**
   - 標準化されたアプローチによる開発効率の向上
   - 型安全性とテスト容易性の確保
   - 再利用可能なパターンとモジュールの活用

3. **チーム全体**
   - 一貫したコーディングスタイルとパターン
   - 知識の共有と標準化
   - コードレビューの効率化

## 成功のための指標

1. AI コーディングエージェントによる高品質なコード生成の割合
2. テストカバレッジの向上（目標: 新規実装時は 80% 以上、重要なビジネスロジックは
   90% 以上）
3. コードレビューでの指摘事項の減少
4. 開発効率の向上（同じ機能を実装するのにかかる時間の短縮）
5. 再利用可能なパターンとモジュールの数と活用度
